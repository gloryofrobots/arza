//include test (test)
import affirm


fun map(seq, acc, fn):
    it = seq.iter()
    if it == nil:
        acc
    else:
        val = it.value()
        acc.append(fn(val))
        map(it, acc, fn)


fun main():
    a = [1, 2, 3, 4, 5, 6]
    a1 = map(a, [], fun(x): x + 10)
    affirm.is_equal(a1, [11, 12, 13, 14, 15, 16])
//
//    print(
//        match [1,2,3]
//            as [1, ..rest]: rest
//    )

//    test()
    __env__()

//PL(__env__())
