
generic
    at(key, self)
    put(key, value, self)
    del(obj, self)
    elem(key, self)

interface
    Coll(put.2, del.1)
    GrowableCollection(put.2)
    ShrinkableCollection(del.1)
    ReadOnlyCollection(at.1, elem.1)
    Collection() is (GrowableCollection, ShrinkableCollection, ReadOnlyCollection)


role GrowableColl =
    fun put(key, value, @coll)

role ShrinkableCollection  = 
    del(Key, @coll)

role Coll
     in put(_, _, @coll)
     in del(_, @coll)

role ReadOnlyCollection =
    at(key, @coll)
    elem(key, @coll)

role Collection is (GrowableCollection, ShrinkableCollection, ReadOnlyCollection)
