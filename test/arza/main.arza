import io
import affirm
import seq
import list
import array
import string
import process
//import tests
//import tests:test_process


fun add1(fn, v) =
    fun (x, ...args) =
        fn(x+v, ...args)

fun add2(fn, v1, v2) =
    fun (x, y, ...args) =
        fn(x+v1, y+v2, ...args)

interface I =
    fun add(@x, y)

@@add1(10)
@@add2(0.1, 0.2)
def add(x of Int, y of Int) = x + y

fun test_function() =
    let
        @@add1(10)
        @@add2(0.1, 0.2)
        fun f(x, y) = x + y
    in
        affirm:is_equal_all(f(1,2), add(1,2), 13.3)

fun main() =
    test_function()
//    tests:run()
//    test_process:test()
    #endprogram
