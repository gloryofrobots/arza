M = {age=45, name="Bob"}
M[:age]
print(M)

M = {
    line = {
        data = [1,2,3,4],
        index = 1
    },

    id = 12
}
print(M)
M1 = M {
    line = M.line {
        index_2 = M.line.index + 42,
        data = [4, 3, 2, 1]
    },
    id = "ID M1"
}
print(M1)

Common = {height=187, weight=60}
print(Common)
Alice = Common{age = 28, name="Alice"}
Bob = Common{age = 29, name="Bob", height=225}
print(Alice)
print(Bob)
print(Common)

//M1 = M {id = inc(M.id),
//        line = M.line{ data = prepend(1, M.line.data)}}

//M1 = M {id = inc($id), line.data}

//match (1, 2, 3)
//    case (A, x, A)  -> 24
//    case (3, A) -> 42
//end
//
//
//
//func f(fn) ->
//    first_call = false
//
//    func(...args) ->
//        outer first_call
//        if first_call == false
//            first_call = true
//            args
//        else
//            apply(fn, args)
//        end
//    end
//end
//
//f1 = f(func (x,y) ->
//                x + y end)
//
//
//
//print(f1(2, 2))
//print(f1(2, 2))
//
//
//co = coroutine(func ff(yield) ->
//                    (x,y) = yield(1)
//                    yield(x, y)
//                end)
////
//print(co())
//print(co(1, 2))
//

