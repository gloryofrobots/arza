fn coroutine(func) {
    (fiber1, fiber2) = spawn_fiber()
    first_call = false
    return fn(...args) {
        outer first_call
        if first_call == false {
            first_call = true
            activate_fiber(fiber2, fn(){
                func(fiber1, ...args)
            })
        } else {
            fiber2(...args)
        }
    }
}

co = coroutine(fn(yield, x) {
            v = yield(25);
            yield(15 + x)
        })

x = co(15)
y = co()
print(x,y)

