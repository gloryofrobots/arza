import affirm
fun test () ->
    M = {
        line = {
            data = [1,2,3,4],
            index = 1
        },

        id = 12
    }

    affirm:is_equal M {line = {index = 1, data = [1, 2, 3, 4]}, id = 12}

    ////////////////////////////////////////////////

    M1 = M.{
        line = M.line.{
            index_2 = M.line.index + 42,
            data = [4, 3, 2, 1]
        },
        id = "ID M1"
    }
    affirm:is_equal M1 {line = {index = 1, index_2 = 43, data = [4, 3, 2, 1]}, id = "ID M1"}

    ////////////////////////////////////////////////

    common = {height=187, weight=60}
    affirm:is_equal common {weight = 60, height = 187}

    alice = common.{age = 28, name="Alice"}
    affirm:is_equal alice {name = "Alice", weight = 60, age = 28, height = 187}

    bob = common.{age = 29, name="Bob", height=225}
    affirm:is_equal bob {name = "Bob", weight = 60, age = 29, height = 225}

    ////////////////////////////////////////////////

    l1 = [1,2,3,4,5].{0=102, 1=103, 4=105}
    affirm:is_equal l1 [102, 103, 3, 4, 105]
