import transducers as ts
fun test () ->
    inc = lam x ->
            print #inc x
            x + 1

    even = lam x ->
            print #even x
            mod x 2 == 0

    xf = ts:map inc >> ts:filter even
    ts:transduce xf cons [] [1,2,3,4]

// *     var t = transducers;
// *     var inc = function(n) { return n+1; };
// *     var isEven = function(n) { return n % 2 == 0; };
// *     var apush = function(arr,x) { arr.push(x); return arr; };
// *     var xf = t.comp(t.map(inc),t.filter(isEven));
// *     t.transduce(xf, apush, [], [1,2,3,4]); // [2,4]
//    test()




