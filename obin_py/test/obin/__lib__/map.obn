import obin:lang:_map
import string
import derive

extend Map
    use derive:TEq
    use derive:TCollection
    use derive:TSized
    use TRepr

    def str self ->
        fun _joiner pair ->
            str pair.0 ++ "=" ++ repr pair.1
        end
        (
            "{"
                ++ string:join_with _joiner (to_seq self) ", " ++
            "}"
        )

    def to_seq self -> _map:to_list self
